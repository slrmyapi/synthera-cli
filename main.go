package main

import (
	"fmt"
	"os"
	"synthera/ui"
	"synthera/utils"

	tea "github.com/charmbracelet/bubbletea"
)

func main() {
	cfg, err := utils.LoadConfig()
	if err != nil {
		cfg = &utils.Config{
			APIToken: "",
		}
	}
	
	logo := `
	

                                                        
                                                        
                                                        
                                                        
                        ::::::::                        
                    @:::::####:::::                     
                 #:::::##########:::::%                 
              ^:::::################.::::^              
           :::::.########:::::::-######::::::           
         =:::)###########%@%}:::::::######^::::         
         :::#####################%::::######:::         
         :::#############@::::%#####:::#####:::         
         :::##########=::::::::::####.::####:::         
         :::########%:::^%#####:::.###:::###:::         
         :::###%%%###::#########:::###-::###.::         
         :::###:::##############.::%##}::###:::         
         :::###:::##############:::#########:::         
         :::####::.###::::%###::::##########:::         
         :::####[:::####::::::::############:::         
         :::######:::%######################.::         
         ::::######.::::>##################::::         
           :::::%#####::::::::#########%:::::           
              :::::]#######%#{######[:::::              
                 .::::~##########=:::::                 
                    -::::.####.::::+                    
                       }::::::::}                       
                           :~                           
                                                        
                                                        
                                                        


	`

	model := ui.InitialModel(cfg.APIToken, logo + "\n\n")
	p := tea.NewProgram(model)
	if _, err := p.Run(); err != nil {
		fmt.Printf("Alas, there's been an error: %v\n", err)
		os.Exit(1)
	}
}
